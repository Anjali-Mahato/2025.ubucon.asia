---
const { eventbriteSlug, eventbriteId } = Astro.props;

---

<!-- Noscript content for added SEO -->
<noscript><a href={`https://www.eventbrite.com/e/${eventbriteSlug}`} rel="noopener noreferrer" target="_blank">Buy Tickets on Eventbrite</a></noscript>
<!-- You can customize this button any way you like -->
<button id={`eventbrite-widget-modal-trigger-${eventbriteId}`} type="button">Buy Tickets</button>

<script src="https://www.eventbrite.com/static/widgets/eb_widgets.js"></script>

<script type="text/javascript">
    var exampleCallback = function() {
        console.log('Order complete!');
    };

    window.EBWidgets.createWidget({
        widgetType: 'checkout',
        eventId: eventbriteId,
        modal: true,
        modalTriggerElementId: `eventbrite-widget-modal-trigger-${eventbriteId}`,
        onOrderComplete: exampleCallback
    });
</script>